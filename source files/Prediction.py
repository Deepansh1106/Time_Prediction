# -*- coding: utf-8 -*-
"""Untitled11.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1N9_UlpEfxjmaibpQqx2p_dCOSHDCyIYD
"""

# Function to get input from the user
#def get_user_input():
#   age = float(input("Enter Age of Delivery Partner: "))
#    distance = float(input("Enter Total Distance (in km): "))
#    return np.array([[age, distance]])
import pickle
import numpy as np
with open('delivery_time_model.pkl', 'rb') as f:
    model = pickle.load(f)

print("âœ… Model loaded successfully.")


def get_user_input():
    # Ask user for required inputs
    age = float(input("Enter Age of Delivery Partner: "))
    distance = float(input("Enter Total Distance (in km): "))
    festival = input("Is there a Festival? (Yes/No): ")
    weather = input('Enter Weather Condition (0 for "Sunny", 1 for "Cloudy", 2 for "Rainy", 3 for "Foggy", 4 for "Windy"): ')
    # Create zero-filled feature vector
    input_array = np.zeros((1, 29))  # 29 features

    # Manually set the known inputs at their respective indexes
    input_array[0, 0] = age
    input_array[0, 28] = distance

    # Encode categorical inputs (assuming label encoding: Yes=1, No=0)
    input_array[0, 11] = 1 if festival.lower() == "yes" else 0

    # Example weather encoding
    weather_map = {'Sunny': 0, 'Stormy': 1, 'Cloudy': 2, 'Fog': 3, 'Windy': 4}
    input_array[0, 14] = weather_map.get(weather, 0)  # Default to 0 if unknown

    return input_array

# Collect user input
features = get_user_input()

# Predict using the trained 2-feature model
predicted_delivery_time = model.predict(features)
print("Predicted Delivery Time in Minutes:", round(predicted_delivery_time[0], 2))